# Flake8 Configuration
# Consistent linting settings for CI and local development

[flake8]
# Line length (consistent with Black, isort, ESLint)
max-line-length = 100

# Ignore specific rules:
# E203 - whitespace before ':' (Black compatibility)
# E231 - missing whitespace after ':' (f-string format specs, Black compatible)
# W503 - line break before binary operator (Black compatibility)
# D1xx - Docstrings (too verbose for POC)
# F401 - Module imported but unused (handled during cleanup)
# F541 - f-string without placeholders (false positive on format specs)
# W293 - blank line contains whitespace
# E501 - Line too long (sometimes unavoidable)
# C901 - Function too complex (Flake8 7.3.0 stricter, existing code)
# F811 - Redefinition of unused name (API endpoint duplication)
# E731 - do not assign lambda (sometimes necessary)
extend-ignore = E203, E231, W503, D100, D101, D102, D103, D104, D105, D107, D200, D205, D400, D401, D403, F401, F541, W293, E501, C901, F811, E731

# Exclude directories
exclude =
    .git,
    __pycache__,
    .venv,
    venv,
    build,
    dist,
    *.egg-info,
    .eggs,
    .mypy_cache,
    .pytest_cache,
    mlruns,
    node_modules,
    frontend,
    archive,

# Max complexity (increased for 7.3.0 compatibility with existing code)
max-complexity = 25

# Show source code for errors
show-source = true

# Show statistics
statistics = true

# Count errors
count = true
